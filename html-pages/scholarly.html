<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>FePA Scholarly HTML Report</title>

    <link rel="stylesheet" href="https://w3c.github.io/scholarly-html/css/scholarly.min.css">
    <script src="https://w3c.github.io/scholarly-html/js/scholarly.min.js"></script>
</head>

<body>
    <header>
        <div class="banner">
            <img src="../assets/scholarly.png" width="227" height="50" alt="Scholarly HTML logo">
        </div>
        <h1>FePA Report - Scholarly HTML</h1>
    </header>

    <div role="contentinfo">
        <dl>
            <dt>Authors</dt>
            <dd>
                <a href="https://github.com/AstancaiTudor" target="_blank">Astancai Tudor</a>,
                <a href="https://github.com/VadanaAndrei" target="_blank">Vadana Andrei</a>
            </dd>
        </dl>
    </div>
    <section typeof="sa:Abstract" id="abstract" role="doc-abstract">
        <h2>Abstract</h2>
        <p>
            This document contains the complete front-end for the FePA project for Web Technologies, created in
            collaboration with
            <a href="https://github.com/AstancaiTudor" target="blank">Astancai Tudor</a> and
            <a href="https://github.com/VadanaAndrei" target="blank">Vadana Andrei</a> (2024).
            <br>
            <br>
            <i>University Alexandru Ioan Cuza, Faculty of Computer Science Iasi</i>
        </p>
    </section>
    <section id="introduction" role="doc-introduction">
        <h2>Introduction</h2>
        <section id="purpose">
            <h3>Purpose</h3>
            <p>
                The FePA Web Application creates a space where users can report stray animals or those that have escaped
                from shelters, and they can also view reports made by other people.
            </p>
        </section>

        <section id="intended-audience">
            <h3>Intended Audience</h3>
            <p>
                The application is aimed at the average user who wants to help their society and community. Also every
                person who loves
                animals and wants to help them will use this application with pleasure.
            </p>
        </section>
        <section id="scope">
            <h3>Scope</h3>
            <p>
                The application aims to create a safer community for both people and animals.
            </p>
        </section>
    </section>

    <section id="description" role="doc-introduction">
        <h2>Description</h2>

        <section id="functions">
            <h3>Functions</h3>

            Below are the functionalities that the FePA application offers:
            <ul>
                <li>Creation of an account and user registration</li>
                <li>Changing the user's password</li>
                <li>Reporting a stray animal or one that has escaped from a shelter</li>
                <li>Viewing statistics that can be filtered by city, day, and animal, which can be exported in CSV,PDF
                    or multiple
                    HTML formats</li>
                <li>Viewing the most recent reports uploaded by other users</li>
                <li>Subscribing to the RSS feed with the latest reports</li>
            </ul>

        </section>
        <section id="operating-environment">
            <h3>Operating Environment</h3>
            <p>
                Being a web application, it will run on any modern browser. Thus, the application will be able to run on
                all operating systems that support a browser such as: Android, iOS, Windows, Linux, etc.
            </p>
        </section>
    </section>

    <section id="interfaces">
        <h2>Interfaces</h2>
        <section id="user-interfaces">
            <h3>User Interface</h3>
            <p>
                The application offers a modern interface that is visually pleasing to enhance the user experience.
                FePA can be used on both large screens and on the browser of a phone with a smaller screen size,
                continuing to offer a pleasant experience to the user thanks to its responsive design.
            </p>
        </section>
    </section>

    <section id="source-code">
        <h2>Source Code</h2>
        <p>
            For source code management of the project <a href="https://github.com" target="_blank">GitHub</a> was used.
            Commits are made by both team members. For most pages, a separate branch was created on which code was
            updated by both members, so the most recent push always contains the latest version of the code.
        </p>
        <p>
            The source code of the project will be available <a href="https://github.com/VadanaAndrei/Web2024"
                target="_blank">here</a>
            when it is made public.
        </p>
    </section>

    <section>
        <h2>Security</h2>
        <section>
            <h2>SQL Injection</h2>
            <p>
                The site will prevent SQL Injection attacks. The user will not be allowed to enter special characters
                such as ', with the verification being done at the server level. Thus, SQL code will not be able to run
                in the database when a user is created or any other interaction where a new record is added/modified in
                the database. In our application, the prevention of SQL injection is achieved with the help of prepared
                statements and the bind_param() function. By using the substitution markers and the bind_param()
                function, the data is separated from the SQL code. So any SQL injection attempt through the entered data
                will not be possible because they will be treated as simple data, thus eliminating the risk of being
                executed as SQL code.
            </p>
        </section>
    </section>

    <section id="system-features">
        <h2>Features</h2>

        <section id="overview">
            <h3>Overview</h3>
            <p>
                When someone access our application he will be able to see the Home page, but if he wants to use any
                feature as reporting an animal or generating statistics he needs to be logged in, otherwise he will be
                sent to the Login/Register page.
                Using PHP we check if a user is authenticated via session variables and return a JSON response
                indicating the authentication status and, if applicable, the type of the user.
            </p>
        </section>

        <section id="login">
            <h3>Authentication</h3>
            <p>
                User and admin authentication involve filling in the necessary fields (email and password) from the
                login/register page. After filling in, he will press the login button and if the information filled in
                is correct and the corresponding account exists, the user will be authenticated in the account. After
                that the user id is set to the session
                and the type of user (admin or user) is also set to the session. The session ID is sent through a
                cookie.
                <br>
                If the user does not remember the password, he will be able to click on the 'Forgot password' button and
                he
                will be redirected to a new page where he will have to enter his email in order to receive a password
                reset link.

                <br> <br>
                Admin authentication is done in the same way as user authentication, but the admin will have access to a
                control panel where he can view all reports and users, delete them, if necessary.
            </p>
        </section>

        <section id="forgot-password">
            <h3>Forgot password</h3>
            <p>
                When a user click on the 'Forgot password' button, he will be redirected to a new page where he will
                have to enter his email in order to receive a password reset link. A hashed token(which is valid for 30
                minutes) will be generated and sent to the user email. The user will click on the link and if the token
                is still valid he will be redirected to a new page where he will have to enter the new password and
                confirm it. If the token is valid, the password will be updated in the database.
            </p>
        </section>

        <section id="change-password">
            <h3>Change password</h3>
            <p>
                The user can change his password from the Profile page. He will have to enter the old password, the new
                password and confirm it. The password will be updated in the database if the old password is correct and
                the new password is confirmed. Using JavaScript and PHP, the form is validated (we will verify if the
                old password from the database matches the old password introduced by the user)
                before submitting it.
            </p>
        </section>

        <section id="register">
            <h3>Registration</h3>
            <p>
                Registration requires the creation of a new user account. The user enters the information in the
                required fields (email, username, password, password confirmation) on the login/register page and if the
                information he entered is valid, then the account is created by pressing the 'Register' button. Using
                JavaScript, the registration form is validated, using preventDefault() prevents the default submission.
                Then, with the validateInputs() function, each field is validated before sending the form. If everything
                is ok, the fields will be marked in green and the form can be sent, otherwise a specific error message
                will appear and the field will be outlined in red, and the form cannot be sent.
            </p>
        </section>

        <section id="report-animal">
            <h3>Reporting an animal</h3>
            <p>
                If a user wants to report an animal, he will enter from the Home page, using the Report button, on the
                reporting page and fill out the displayed form. It will start with the species, description, tags and
                continue with the description of the area where the animal is active. In addition, it will be able to
                include pictures. Each report will be included in the news feed from the Home page and can be filtered
                from the Statistics page.

                <br> <br>

                The validation of the form is done using JavaScript, where we check if the fields are not empty and if
                the images are in the correct format. If the form is not valid, the user will receive an error message
                and the form will not be sent.
                Using a PHP method in controller we will submit the form.This includes getting data from the form,
                inserting the report into the database, managing tags and uploaded photos, and setting success or error
                messages in the session. If all operations are successful, the user is redirected to the main page with
                a success message.
            </p>
        </section>

        <section id="statistics">
            <h3>Generating statistics</h3>
            <p>
                The user can filter the reports from the Statistics page, where he will have to select what he wants to
                see according to the application filters (city, day, animal). The statistics will be generated in
                HTML,CSV
                and PDF format so that the user's visualization is as easy as possible.

                <br> <br>

                The data is taken for filtering and sql queries are built for the database. Then build the bodies (CSV,
                HTML and PDF) for pdf use DOMpdf, a PHP library for generating pdfs from html. Each newly generated file
                will be downloaded to the user's device.
            </p>
        </section>

        <section id="rss-feed">
            <h3>Subscribing to RSS feed</h3>
            <p>
                The user can subscribe to the RSS feed with the latest reports. The feed will be updated every time a
                new
                report is uploaded by a user.

                <br> <br>
                The script connects to the database, extracts the relevant data, and formats it into an RSS-compatible
                XML document. Users can subscribe to this feed to see the latest reports directly with an RSS reader.
            </p>
        </section>

        <section id="search-results">
            <h3>Searching reports</h3>
            <p>
                The user can search for reports using the search bar from the Home page. The search is done by the
                species , and the results will be displayed in a new page.
                The search is done with a perfect match so the user will have to enter the exact name of the species.
            </p>
        </section>

        <section id="user-profile">
            <h3>User profile</h3>
            <p>
                The user, through the Profile page, will be able to access the information associated with the account
                and change his password, completing a form with the fields: old password, new password and password
                confirmation.
            </p>

        </section>

        <section id="user-interface" role="doc-introduction">
            <h2>Interface</h2>
            <p>
                The application interface is minimalist, user friendly, thus making the user's visit a pleasant one. The
                color palette was chosen to evoke nature/animals. Also, the interface has a modern structure, such as
                the pops of the buttons on the Home page, the shadows of the text/image boxes, the pictures according to
                the described pages
            </p>
            <p>
                Each page has its own css style sheet, but for the navigation bar and for the footer we modularized the
                content, to be able to import it into the rest of the pages without duplicating the code.
            </p>

            <p>
                The application is responsive, so it can be used on both mobile phones and tablets. For this, in each
                css style sheet, special resolution cases are treated, in which each component is scaled in such a way
                that the page structure remains organized, clean and can be used by the user
            </p>
        </section>

        <section id="software-interfaces">
            <h3>Software interfaces</h3>
            <p>
                The database used is MySQL, which will store all the information about the users and reports. We chose
                MySQL because it is a relational database management system that is easy to use and has a good
                performance. The database will be accessed using the PHP Data Objects (PDO) extension, which provides a
                data-access abstraction layer, which means that, regardless of which database is used, the same
                functions will be used to query and fetch data.
            </p>
            <p>
                The architectural design of the application is based on Model-View-Controller (MVC), which divides the
                application into three main components: Model, View and Controller. The model represents the data and
                business logic of the application, taking care of interactions with the database and validations. View
                is responsible for presenting user data and the Controller acts as an intermediary between View and
                Model.
            </p>
            <p>
                The frontend of the application is built using HTML, CSS and JavaScript.
            </p>
            <p>
                The backend is built using PHP and the database used is MySQL. The application will be hosted on a
                server that supports PHP and MySQL, such as Apache.
            </p>
        </section>

    </section>



    <section id="other-resources">
        <h2>Main Resources</h2>
        <ul>
            <li>https://learn.shayhowe.com/html-css/building-forms/</li>
            <li>https://www.w3schools.com/html/html_responsive.asp</li>
            <li>https://www.geeksforgeeks.org/making-a-div-vertically-scrollable-using-css/</li>
            <li>https://www.freecodecamp.org/news/html-button-link-code-examples-how-to-make-html-hyperlinks-using-the-href-attribute-on-tags/
            </li>
            <li>https://www.simplilearn.com/tutorials/css-tutorial/css-responsive-design</li>
        </ul>
    </section>

</body>

</html>